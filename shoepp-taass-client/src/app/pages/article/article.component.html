<div class="container page-content mt-3 mb-3">
  <div *ngIf="succMsg" class="alert alert-success alert-dismissible fade show" role="alert">
    <strong>Prodotto aggiunto al carrello!</strong>
    <div class="d-flex mt-2">
      <a routerLink="/store" class="btn btn-info rounded-pill mx-2"><i data-feather="arrow-left"></i> Continua con lo shopping</a>
      <a routerLink="/cart" class="btn btn-primary rounded-pill mx-2">Procedi con l'ordine <i data-feather="arrow-right"></i></a>
    </div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div *ngIf="errMsg" class="alert alert-danger alert-dismissible fade show" role="alert">
    <div *ngIf="product.stock == 0">
      <strong>Il prodotto non è più disponibile. Ti avviseremo quando lo sarà di nuovo.</strong>
    </div>
    <div *ngIf="product.stock != 0">
      <strong>Impossibile aggiungere il prodotto nel carrello, ci sono solo {{product.stock}} pezzi disponibili.</strong>
    </div>

    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="card">
    <div class="card-body">
      <div class="row">
        <div class="col-md-6 border-right">
          <img class="img-fluid" src="{{product?.picture}}">
        </div>
        <div class="col-md-6 mt-3 mt-md-0">
          <h2 class="card-title">{{product?.title}}</h2>
          <div class="d-flex align-items-center">
            <h2 class="price font-weight-bold mr-3">{{product?.price}} €</h2>
          </div>
          <p class="d-none d-lg-block">{{product?.description}}</p>
            <div class="form-row">
              <div class="form-group col-sm-3">
                <label class="font-weight-bold d-block">Taglia</label>
                <select class="form-control" id="size" name="size" [(ngModel)]="size">
                  <option *ngFor="let size of product?.sizes" [value]="size.value">{{size.value}}</option>
                </select>
              </div>

              <div class="form-group col-sm-3">
                <label class="font-weight-bold" for="quantity">Quantità</label>
                <select class="form-control" id="quantity" name="qty" [(ngModel)]="quantity">
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                </select>
              </div>
              <div class="form-group col-sm-6 d-flex align-items-end">
                <button (click)="addCart()" class="btn  btn-primary w-100">Aggiungi al carrello <i data-feather="shopping-cart" width="20" height="20" class="filled"></i>
                </button>
              </div>
            </div>
          <hr>
          <div class="pt-1 mb-2"><span class="text-medium">Brand: </span>
            <span *ngFor="let brand of product?.brands" class="badge badge-secondary mt-1 mr-1">{{brand.name}}</span>
          </div>
          <div class="padding-bottom-1x mb-2"><span class="text-medium">Categoria: </span>
          <span *ngFor="let category of product?.categories" class="badge badge-secondary mt-1 mr-1">{{category.name}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .filled {
    fill: currentColor;
  }
</style>
